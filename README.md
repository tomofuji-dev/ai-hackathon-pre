# 音声感情推測ゲーム「はぁっていうゲーム」

「はぁっていうゲーム」は、AIを用いて音声から感情を推測するインタラクティブなゲームです。プレイヤーが「はぁ」や「え？」などのシンプルな一言を様々な感情を込めて発声すると、AIがその感情を推測し、フィードバックを提供します。

## 概要

このゲームでは、以下の13種類の感情を認識できます：

- 喜び
- 怒り
- 悲しみ
- 驚き
- 不安
- 嫌悪
- 困惑
- 照れ
- 呆れ
- 疑い
- 感動
- 軽蔑
- 中立（特に感情を込めていない）

## システム構成

システムは以下の主要コンポーネントで構成されています：

1. **音声処理モジュール** (`audio_processing.py`)
   - リアルタイム音声入力（PyAudio）
   - 音声特徴量抽出（Librosa）
   - MFCC特徴量と韻律特徴量の抽出

2. **感情認識モジュール** (`emotion_recognition.py`)
   - CNN-LSTMハイブリッドモデル（TensorFlow/Keras）
   - 感情分類と確信度スコア計算
   - 結果の解釈と説明生成

3. **ゲームインターフェース** (`game_interface.py`)
   - グラフィカルユーザーインターフェース（Tkinter）
   - リアルタイム音声波形表示
   - 結果表示と履歴管理

4. **システムテスト** (`test_system.py`)
   - ユニットテスト
   - 統合テスト
   - システム評価

## 必要条件

- Python 3.8以上
- 以下のPythonライブラリ：
  - numpy
  - matplotlib
  - librosa
  - tensorflow
  - pyaudio
  - tkinter（多くのPythonインストールに標準で含まれています）

## インストール方法

1. リポジトリをクローンまたはダウンロードします。

2. 必要なライブラリをインストールします：

```bash
pip install numpy matplotlib librosa tensorflow pyaudio
```

## 使用方法

1. ゲームを起動します：

```bash
python game_interface.py
```

2. メイン画面で「ゲーム開始」ボタンをクリックします。

3. 画面に表示される感情を込めて「はぁ」と言ってみてください。

4. 「録音開始」ボタンをクリックして発声し、終わったら「録音停止」をクリックします。

5. AIがあなたの感情を推測し、結果を表示します。

6. 「次のチャレンジ」ボタンで新しい感情に挑戦できます。

## 開発情報

### 音声特徴量

システムは以下の音声特徴量を使用して感情を推測します：

- MFCC（メル周波数ケプストラム係数）
- デルタMFCCとデルタデルタMFCC
- 基本周波数（F0）の統計量
- エネルギー（RMS）
- ゼロ交差率
- スペクトル重心
- スペクトルフラックス

### 感情認識モデル

- CNN-LSTMハイブリッドアーキテクチャ
- CNNによる局所的特徴抽出
- LSTMによる時系列パターン認識
- 全結合層による分類

## 今後の改善点

- より多様な音声データでのモデル学習
- モバイルアプリ版の開発
- マルチプレイヤーモードの追加
- クラウドベースの学習システム

## ライセンス

このプロジェクトは[MITライセンス](LICENSE)の下で公開されています。

## 謝辞

このプロジェクトは、音声感情認識の研究と技術の発展に貢献された多くの研究者の成果に基づいています。
